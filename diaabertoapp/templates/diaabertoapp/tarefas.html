<!DOCTYPE HTML>
{% load static %}
<html lang="pt-pt">

<head>

    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="{% static 'diaabertoapp/bulma.css' %}">
    <link rel="stylesheet" href="https://cdn.materialdesignicons.com/4.5.95/css/materialdesignicons.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="{% static 'diaabertoapp/dist/bulma.js' %}"></script>
    <script src="{% static 'diaabertoapp/dist/bulma-steps.js' %}"></script>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <link href="{% static 'diaabertoapp/favicon.ico' %}" rel="icon">
    <title>Dia Aberto</title>

    <style>
        body,
        html {
            min-height: 100%;
            background-size: cover;
            background: linear-gradient(to bottom, #ffffff, #eeeeff) no-repeat fixed center center;
        }

        * {
            outline: none;
        }
        .notices{
            position: fixed;
            display: flex;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 8em;
            overflow: hidden;
            z-index: 1000;
            pointer-events: none;
        }
    </style>
</head>

<body> 
    {% include "includes/navbar.html" %}
    <div data-v-8716d23a="" id="top-hero" class="hero is-primary is-bold">
        <div data-v-8716d23a="" id="top-hero-body" class="hero-body"></div>
    </div>
    <div data-v-8716d23a="" id="page-content">
        {% if messages %}
            {% for message in messages %}
            <div id="message_container" class="notices is-bottom"><div role="alert" {% if message.tags == 'error' %} class="toast is-danger is-bottom" {% else %} class="toast is-success is-bottom" {% endif %} style=""><div>{{ message }}</div></div></div>
            {% endfor %}
        {% endif %}
        <div data-v-8716d23a="" class="card">
            <div data-v-8716d23a="" class="card-content">
                <div data-v-8716d23a="" class="columns">
                    <div class="column is-3">
                        <div data-v-1513178e="">
                   
                                        <form method="GET" action=".">                                           
                                        <div data-v-1513178e="" class="menu" style="margin-bottom: 1rem;">
                                            <p data-v-1513178e="" class="menu-label">Filtros Tarefa</p>
                                
                                            {% if utilizador.utilizadortipo.tipo == 'Administrador' %}
                                            <div class="field has-addons">
                                            {% if not campusquery|length > 0 %}
                                            <div class="control is-expanded ">
                                                <span class="select is-fullwidth is-empty">
                                                    <select  id="campusSearch" name="campus"><!--onchange="searchByType()"-->
                                                        <option disabled="disabled" hidden="hidden" selected>
                                                            Campus
                                                        </option>
                                                        {% for Campus in campuss %}
                                                            <option value="{{ Campus.id }}">{{ Campus.nome }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                                <!--<span class="icon is-left">
                                                    <i class="mdi mdi-magnify mdi-24px"></i>
                                                </span>-->
                                            </div>
                                            <div class="control">
                                                <button class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                            </div>
                                            {% else %}
                                            <div class="control is-expanded ">
                                                <span class="select is-fullwidth is-empty">
                                                    <select  id="campusSearch" name="campus"><!--onchange="searchByType()"-->
                                                        {% for Campus in campuss %}
                                                            <option value="{{ Campus.id }}">{{ Campus.nome }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                                <!--<span class="icon is-left">
                                                    <i class="mdi mdi-magnify mdi-24px"></i>
                                                </span>-->
                                            </div>
                                            <!---->
                                            <div class="control">
                                                <button class="button is-danger" onclick="document.getElementById('campusSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                              </div>
                                            {% endif %}
                                        </div>


                                              <div class="field has-addons">
                                            <!---->
                                            {% if not departamentoquery|length > 0 %}
                                            <div class="control is-expanded ">
                                                <span class="select is-fullwidth is-empty">
                                                    <select  id="departamentoSearch" name="departamento"><!--onchange="searchByType()"-->
                                                        <option disabled="disabled" hidden="hidden" selected>
                                                            Departamento
                                                        </option>
                                                        {% for Departamento in departamentos %}
                                                            <option value="{{ Departamento.id }}">{{ Departamento.nome }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                                <!--<span class="icon is-left">
                                                    <i class="mdi mdi-magnify mdi-24px"></i>
                                                </span>-->
                                            </div>
                                            <div class="control">
                                                <button class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                            </div>
                                            {% else %}
                                            <div class="control is-expanded ">
                                                <span class="select is-fullwidth is-empty">
                                                    <select  id="departamentoSearch" name="departamento"><!--onchange="searchByType()"-->
                                                        {% for Departamento in departamentos %}
                                                            <option value="{{ Departamento.id }}">{{ Departamento.nome }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                                <!--<span class="icon is-left">
                                                    <i class="mdi mdi-magnify mdi-24px"></i>
                                                </span>-->
                                            </div>
                                            <!---->
                                            <div class="control">
                                                <button class="button is-danger" onclick="document.getElementById('departamentoSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                              </div>
                                            {% endif %}

                                            </div>
                                           {% endif %}
                                          

                                        <div class="field has-addons">
                                            
                                        </div>

                                            
                                            <div class="field has-addons">
                                                <!---->
                                                {% if not nomesquery|length > 0 %}
                                                    <div class="control is-expanded">
                                                        <div class="control is-clearfix">
                                                            <input type="search" autocomplete="off" id="nameSearch" name="nome"  placeholder="Nome da Tarefa" class="input"><!--onkeyup="searchByName()"-->
                                                            <!--<span class="icon is-left">
                                                                <i class="mdi mdi-magnify mdi-24px"></i>
                                                            </span>-->
                                                            <!---->
                                                            <!---->
                                                        </div>
                                                
                                                    </div>
                                                    <div class="control">
                                                        <button type="submit" class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                                      </div>
                                                {% else %}<div class="control is-expanded">
                                                        <div class="control is-clearfix">
                                                            <input type="text" autocomplete="off" id="nameSearch" name="nome"  placeholder="Nome da Tarefa" class="input" value="{{ nomesquery }}"><!--onkeyup="searchByName()"-->
                                                            <!--<span class="icon is-left">
                                                                <i class="mdi mdi-magnify mdi-24px"></i>
                                                            </span>-->
                                                            <!---->
                                                            <!---->
                                                        </div>
                                                
                                                    </div>
                                                    <div class="control">
                                                        <button class="button is-danger" onclick="document.getElementById('nameSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                                      </div>
                                                {% endif %}
                                                    <!---->
                                            </div>

                                            
                                      
                                                
                                                
                                                
                                                
                                                
                                                <div class="field has-addons">
                                                <!---->
                                                {% if not tipo_query|length > 0 %}
                                                <div class="control is-expanded ">
                                                    <span class="select is-fullwidth is-empty">
                                                        <select  id="tipoSearch" name="tipo"><!--onchange="searchByType()"-->
                                                            <option disabled="disabled" hidden="hidden" selected>
                                                                Tipos de Tarefa
                                                            </option>
                                                            {% for tipos in tiposs %}
                                                                <option value="{{ tipos.tipo_tarefa }}">{{ tipos.get_tipo_tarefa_display }}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </span>
                                             
                                                </div>
                                                <div class="control">
                                                    <button class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                                </div>
                                                {% else %}
                                                <div class="control is-expanded ">
                                                       <span class="select is-fullwidth is-empty">
                                                        <select  id="tipoSearch" name="tipo"><!--onchange="searchByType()"-->
                                                            <option disabled="disabled" hidden="hidden" selected>
                                                                Tipos de Tarefa
                                                            </option>
                                                            {% for tipos in tiposs %}
                                                                <option value="{{ tipos.tipo_tarefa }}">{{ tipos.get_tipo_tarefa_display }}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </span>
                                                
                                                </div>
                                                <!---->
                                                <div class="control">
                                                    <button class="button is-danger" onclick="document.getElementById('tipoSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                                  </div>
                                                {% endif %}
                                            </div>

                                            </div>  

                                             <div data-v-1513178e="" class="menu">
                                                <p data-v-1513178e="" class="menu-label">Filtros Colaborador</p>
                                                     <div class="field has-addons">
                                                        <!---->
                                                        {% if not nomesColaboradorQuery|length > 0 %}
                                                            <div class="control is-expanded">
                                                                <div class="control is-clearfix">
                                                                    <input type="search" autocomplete="off" id="namecolaboradorSearch" name="nomeColaborador"  placeholder="Nome do Colaborador" class="input"><!--onkeyup="searchByName()"-->
                                                                </div>
                                                
                                                            </div>
                                                            <div class="control">
                                                                <button type="submit" class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                                              </div>
                                                        {% else %}<div class="control is-expanded">
                                                                <div class="control is-clearfix">
                                                                    <input type="text" autocomplete="off" id="nameColaboradorSearch" name="nomeColaborador"  placeholder="Nome do Colaborador" class="input" value="{{ nomesColaboradorQuery }}"><!--onkeyup="searchByName()"-->
                                                                    
                                                                </div>
                                                
                                                            </div>
                                                            <div class="control">
                                                                <button class="button is-danger" onclick="document.getElementById('nameColaboradorSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                                              </div>
                                                        {% endif %}
                                                
                                                     </div>











                                    
                                             </div>


                                        </form>
                            
                            
                            
                          



                           




                        </div>
                    </div>
                    <div class="column">
                        <nav aria-label="breadcrumbs" class="breadcrumb">
                            <ul>
                                <li><a href="/" class="router-link-active">Início</a></li>
                                <li class="is-active"><a href="/tarefas"
                                        class="router-link-exact-active router-link-active">Tarefas</a></li>
                            </ul>
                        </nav>
                        {% if utilizador.utilizadortipo.tipo == "Coordenador" or utilizador.utilizadortipo.tipo == 'Administrador' %}
                        <a href="/adicionartarefa" class="button is-success is-outlined" type="button"
                            style="margin-bottom: 1rem; margin-right: 20px;"><span class="icon is-small"><i
                                    class="mdi mdi-plus"></i></span> <span>Adicionar Tarefa</span>
                        </a>
                        {% endif %}
                        <div>
                            <div class="b-table">
                                <div class="field table-mobile-sort">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <span class="select is-fullwidth">
                                                <select>
                                                    <!---->
                                                    <!---->
                                                    <option value="[object Object]">
                                                        Horário
                                                    </option>
                                                    <option value="[object Object]">
                                                        Nome
                                                    </option>
                                                    <option value="[object Object]">
                                                        Tipo
                                                    </option>
                                                    <option value="[object Object]">
                                                        Estado
                                                    </option>
                                                    <!---->
                                                </select>
                                            </span>
                                            <!---->
                                        </div>
                                        <div class="control"><button class="button is-primary"><span
                                                    class="icon is-small"><i
                                                        class="mdi mdi-menu-up"></i></span></button></div>
                                    </div>
                                </div>
                                <!---->
                                <div class="table-wrapper">
                                    <table class="table is-striped has-mobile-cards is-hoverable">
                                        <thead>
                                            <tr>
                                                <th width="40px"></th>
                                                <!---->
                                                <th class="is-sortable" style="width: 140px;">
                                        
                                                        {% if order_by == 'dia' and sort == 'asc' %}
                                                            <a href="?order_by=dia&sort=desc">
                                                                <div class="th-wrap">Dia
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-up"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% elif order_by == 'dia' and sort == 'desc' %}
                                                            <a href="?order_by=dia&sort=asc">
                                                                <div class="th-wrap">Dia
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-down"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% else %}
                                                            <a href="?order_by=dia&sort=asc" style="color: black">
                                                                <div class="th-wrap">Dia
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-swap"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% endif %}
                                                </th>

                                                <th class="is-sortable" style="width: 120px;">
                                                
                                                
                                                                                             
                                                        {% if order_by == 'horario' and sort == 'asc' %}
                                                            <a href="?order_by=horario&sort=desc">
                                                                <div class="th-wrap">Horário
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-up"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% elif order_by == 'horario' and sort == 'desc' %}
                                                            <a href="?order_by=horario&sort=asc">
                                                                <div class="th-wrap">Horário
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-down"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% else %}
                                                            <a href="?order_by=horario&sort=asc" style="color: black">
                                                                <div class="th-wrap">Horário
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-swap"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% endif %}
                                                </th>
                                             


                                                <th class="is-sortable" style="width: 350px;">
                                                    {% if order_by == 'nome' and sort == 'asc' %}
                                                            <a href="?order_by=nome&sort=desc">
                                                                <div class="th-wrap">Nome
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-up"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% elif order_by == 'nome' and sort == 'desc' %}
                                                            <a href="?order_by=nome&sort=asc">
                                                                <div class="th-wrap">Nome
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-down"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% else %}
                                                            <a href="?order_by=nome&sort=asc" style="color: black">
                                                                <div class="th-wrap">Nome
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-swap"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% endif %}
                                                </th>


                                                <th class="is-sortable">



                                                    {% if order_by == 'tipo' and sort == 'asc' %}
                                                            <a href="?order_by=tipo&sort=desc">
                                                                <div class="th-wrap">Tipo
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-up"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% elif order_by == 'tipo' and sort == 'desc' %}
                                                            <a href="?order_by=tipo&sort=asc">
                                                                <div class="th-wrap">Tipo
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-down"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% else %}
                                                            <a href="?order_by=tipo&sort=asc" style="color: black">
                                                                <div class="th-wrap">Tipo
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-swap"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% endif %}


                                                </th>


                                                <th class="is-sortable">
                                                   

                                                    {% if order_by == 'estado' and sort == 'asc' %}
                                                            <a href="?order_by=estado&sort=desc">
                                                                <div class="th-wrap">Estado
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-up"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% elif order_by == 'estado' and sort == 'desc' %}
                                                            <a href="?order_by=estado&sort=asc">
                                                                <div class="th-wrap">Estado
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-down"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% else %}
                                                            <a href="?order_by=estado&sort=asc" style="color: black">
                                                                <div class="th-wrap">Estado
                                                                    <span class="icon is-small">
                                                                        <i class="mdi mdi-menu-swap"></i>
                                                                    </span>
                                                                </div>
                                                            </a>
                                                        {% endif %}


                                                </th>






                                                <th class="" >
                                                    <div class="th-wrap ">Ações <span class="icon is-small"
                                                            style="display: none;"><i
                                                                class="mdi mdi-menu-up"></i></span></div>
                                                </th>
                                                <!---->
                                            </tr>
                                            <!---->
                                            <!---->
                                        </thead>
                                        <tbody>
                                            {% for tarefa in tarefas %}

                                            <tr draggable="false" class="header"  onclick="myfunc({{tarefa.id}},{{forloop.counter0}})">
                                                   <td class="chevron-cell" >
                                                        <a class="collapsible" >
                                                            <span class="icon" >
                                                                <i class="mdi mdi-chevron-right mdi-24px" ></i>
                                                            </span>
                                                        </a>
                                                    </td>
                                                <!---->
                                                <td data-label="Horário" class=""> {{ tarefa.dia }} </td>
                                                <td data-label="Horário" class=""> {{ tarefa.horario|time:"H:i" }} </td>
                                                <td data-label="Nome" style="text-overflow:ellipsis; overflow:hidden; max-width:350px;white-space:nowrap" class=""> {{ tarefa.nome }} </td>
                                                <td data-label="Tipo" class=""> {{ tarefa.get_tipo_tarefa_display }} </td>
                                                <td data-label="Estado" class=""> 
                                                <span class="tag text {% if tarefa.estado  == "RJ" %} is-danger {% endif %} 
                                                                      {% if tarefa.estado  == "PA" %} is-warning {% endif %} 
                                                                      {% if tarefa.estado  == "AT" %} is-success {% endif %}

                                                
                                                " style="width: 7rem;font-size: small;"> {{ tarefa.get_estado_display }} </> </td>
                                                <td data-label="Ações">
                                                   
                                                    <div class="columns is-gapless">
                                                     
                                                        <div class="column ">
                                                            {% if utilizador.utilizadortipo.tipo == 'Coordenador' or utilizador.utilizadortipo.tipo == 'Administrador' %}
                                                            <a href="{% url 'edit_tarefa' tarefa.pk %}" class="button has-text-white is-small" ><span
                                                                    class="icon is-small has-text-grey"><i
                                                                        class=" has-text-red mdi mdi-pencil-box mdi-36px"></i></span>
                                                            </a>
                                                            {% endif %}
                                                       
                                                       </div>
                                                       
                                                        
                                                            
                                                      <div class="column is-8"> 
                                                          {% if utilizador.utilizadortipo.tipo == 'Coordenador' or utilizador.utilizadortipo.tipo == 'Administrador' %}
                                                            <form action ="{% url 'delete_tarefa' tarefa.pk %}" method="POST"><in>{% csrf_token %}<button class="button has-text-white is-small" onclick="return confirm('Tem a certeza que prentede eliminar a tarefa?');"><span
                                                                    class="icon is-small has-text-danger"><i
                                                                        class=" has-text-red mdi mdi-close-box mdi-36px"></i></span></button></form>
                                                          {% endif %}
                                                       </div>
                                                    </div>                                                  
                                                    
                                                </td>
                                                <!---->
                                            </tr>
                                            <tr class="detail" style="display:none" >
                                                    <td colspan="7">
                                                        
                                                        
                                                       
                                                        <div class="detail-container">
                                                          <div class="content">
                                                            <div style="font-size: 15px;">
                                                               

                                                                    <span class="is-danger">Número de Colaboradores Necessário: <label class="numero_colabs" id="numero_colabs"></label><input type="hidden" class="numero_colabs1"><br><br></span>
                                                                {% if tarefa.tipo_tarefa == 'AV' %}   
                                                                     
                                                                    <span>Nome da Atividade: &nbsp;{{tarefa.atividade.nome}} <br><br> </span>
                                                                    <span>Local da Atividade: &nbsp;{{tarefa.atividade.campus}}&nbsp;{{tarefa.atividade.sala}} <br><br> </span>
                                                               
                                                                    
                                                                
                                                                {% endif %}
                                                                

                                                                {% if tarefa.duracao is not None %}   
                                                                    <span>Duração: &nbsp;{{tarefa.duracao}} Minutos<br><br> </span>
                                                                {% endif %}
                                                                
                                                                {% if tarefa.descricao != "" %}
                                                                 
                                                                    Descrição: {{ tarefa.descricao }}<br><br>
                                                                    
                                                                {% endif %}
                                                       
                                                                
                                                                
                                                                <div>
                                                                  {% if tarefa.estado == "PA" %}
                                                                
                                                                    {% if utilizador.utilizadortipo.tipo == 'Coordenador' or utilizador.utilizadortipo.tipo == 'Administrador' %}
                                                                    <form action ="{% url 'atribuir_tarefa' tarefa.pk  %}" method="POST"><in>{% csrf_token %}                                                                
                                                                      <div class="columns">
                                                                        <div class="column">
                                                                        <div class="field">
                                                                             <div class="control is-expanded">
                                                                                <span class="select is-multiple is-fullwidth is-empty">
                                                                                    
                                                                                    <select class="colaborador_id" name="colaborador_id" id="colaborador_id{{forloop.counter0}}" value="{{forloop.counter0}}" multiple>
                                                                                        
                                                                                    </select>  
                                                                                    
                                                                                   
                                                                                  
                                                                                </span>

                                                                                                                                                            <!---->
                                                                              </div>
                                                                          <!---->
                                                                          <!---- form.colaboradores }}->
                                                                          <!---->
                                                                        </div>
                                                                      </div>
                                                                      <div class="column">
                                                                    
                                                                           <a type="button"  class="button is-success is-outlined" onclick="myfunc2({{forloop.counter0}})"><span
                                                                                class="icon is-small "><i
                                                                            class=" mdi mdi-account-arrow-left"></i></span><span>Atribuir Tarefa</span></a>

                                                                          <button type="submit" id ="submit" style="display: none;" class="button is-success is-outlined" >
                                                                               
                                                                            </button>
                                                                      
                                                                  
                                                                      </div>
                                                                      </div>
                                                                  </form>

                                                                    {% endif %}

                                                                
                                                                
                                                              </div>
                                                                {% else %}
                                                                <select class="colaborador_id" name="colaborador_id" id="colaborador_id{{forloop.counter0}}" value="{{forloop.counter0}}" style="display:none" multiple>
                                                                                        
                                                                </select> 
                                                              {% endif %}
                                                                
                                                            
                                                              {% if tarefa.estado == "AT" %}
                                                                <div class="columns">
                                                                    <div class="column">
                                                                       
                                                                        <span>Tarefa atribuída ao/s colaborador/es: <br><br> </span>
                                                                        {% for colab in tarefa.coolaborador.all %}
                                                                         
                                                                            <span>- {{ colab.nome }} <br> </span>
                                                                        {% endfor %}
                                                                    
                                                                    
                                                                    
                                                                    
                                                                    </div>
                                                                
                                                                     
                                                                          
                                                                  
                                                                      
                                                                </div>
                                                                <div class="level">
                                                                    <div class="level-left"></div>
                                                                    <div class="level-right">
                                                                        {% if utilizador.utilizadortipo.tipo == 'Coordenador' or utilizador.utilizadortipo.tipo == 'Administrador' %}
                                                                        <form action ="{% url 'remove_colab' tarefa.pk  %}" method="POST"><in>{% csrf_token %} 
                                                                                   <button type="submit" class="button is-danger is-outlined" onclick="return confirm('Tem a certeza que prentede eliminar a atribuição da tarefa?');"><span
                                                                                        class="icon is-small "><i  
                                                                                    class=" mdi mdi-account-arrow-right"></i></span><span>Reatribuir Tarefa</span></button>
                                                                        </form>
                                                                        {% endif %}
                                                                    </div>
                                                                </div>
                                                              {% endif %}
                                                            </div>
                                                          </div>
                                                        </div>
                                                    
                                                    </td>
                                            </tr>
                                            {% endfor %}
                                            <!---->
                                            <!---->
                                            <!---->
                                            <!---->
                                        </tbody>
                                        <!---->
                                    </table>
                                </div>
                                {% if tarefas.has_other_pages %}
                                    <div class="level">
                                        <div class="level-left"></div>
                                        <div class="level-right">
                                            <div class="level-item">
                                                <nav class="pagination">
                                                    {% if tarefas.has_previous %}
                                                    <a role="button" href="?page={{ tarefas.previous_page_number }}" class="pagination-link pagination-previous">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-left mdi-24px"></i>
                                                        </span>
                                                    </a>
                                                    {% else %}
                                                    <a role="button" href="#" disabled="disabled" class="pagination-link pagination-previous">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-left mdi-24px"></i>
                                                        </span>
                                                    </a>
                                                    {% endif %}
                                                    {% if tarefas.has_next %}
                                                    <a role="button" href="?page={{ tarefas.next_page_number }}" class="pagination-link pagination-next">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-right mdi-24px"></i>
                                                        </span>
                                                    </a>

                                                    {% else %}
                                                    <a role="button" href="#" disabled="disabled" class="pagination-link pagination-next">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-right mdi-24px"></i>
                                                        </span>
                                                    </a>
                                                    {% endif %}
                                                    <ul class="pagination-list">
                                                        <!---->
                                                        <!---->
                                                        {% for i in tarefas.paginator.page_range %}
                                                        {% if tarefas.number == i %}
                                                        <li>
                                                            <a role="button" href="#" aria-current="true" class="pagination-link is-current ">{{ i }}</a>
                                                        </li>
                                                        {% else %}
                                                        <li>
                                                            <a role="button" href="?page={{ i }}" aria-current="true" class="pagination-link ">{{ i }}</a>
                                                        </li>
                                                        {% endif %}
                                                        {% endfor %}
                                                        <!---->
                                                        <!---->
                                                    </ul>
                                                </nav>
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}

                                <div><input id="contador" type="hidden"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    </div>

    <script>
        $(document).ready(function () {
            $('tr.header').click(function () {
                //$(this).find('span').find('i').toggleClass('fa-thumbs-down');
                if ($(this).find('span').find('i').hasClass('mdi mdi-chevron-right mdi-24px')) {
                    $(this).find('span').find('i').removeClass("mdi mdi-chevron-right mdi-24px").addClass("mdi mdi-chevron-down mdi-24px");
                  }else{
                       $(this).find('span').find('i').removeClass("mdi mdi-chevron-down mdi-24px").addClass("mdi mdi-chevron-right mdi-24px");
                  }
                $(this).nextUntil('tr.header').slideToggle(100, function(){
                    });
            });
        });
    </script>
    <script>
        // suppose the `id` attribute of element is `message_container`.
        var message_ele = document.getElementById("message_container");

        setTimeout(function(){ 
           message_ele.style.display = "none"; 
        }, 4000);
        // Timeout is 3 sec, you can change it

    </script>
    <script>
           function myfunc(tarefas,contador){
                
                var tarefa = tarefas;
                var colabs1 = document.getElementsByClassName("colaborador_id");  
                var colabs2 = colabs1[contador];
                //alert(colabs2);
                var x = colabs2.querySelectorAll("option")
                x.forEach(o => o.remove());
                
                $.ajax({
                        url: '{% url "user_switch" %}',
                          data: {
                              'tarefa' : tarefa
                               
                          },
                      dataType: 'json',
                      success: function (dados) {
                         
                        if (typeof dados.userlist[0] !== 'undefined') {   // this is good
                          
                             
                          
                          var lista = dados.userlist;
                          var x = lista.length;
                           
                           
                          var colabs = document.getElementsByClassName("colaborador_id");
        
                          var numero_colabs = document.getElementsByClassName("numero_colabs");
                         var numero_colabs1 = document.getElementsByClassName("numero_colabs1");
                          numero_colabs[contador].innerHTML= dados.numero_colabs;
                          numero_colabs1[contador].value = dados.numero_colabs;
                          
                           
                          for(var i = 0; i < x; i++){
                            
                            var option = document.createElement("option");
                            option.value = lista[i];
                            
                            option.text = dados.usernamelist[i]; 
                            colabs[contador].add(option);
                           }
                          }
    

                      }
                    });




            }

    </script>

     <script>
         function myfunc2(contador) {

               var numero_colabs = document.getElementsByClassName("numero_colabs1");
               var numero_colabs1 = numero_colabs[contador].value;
               var colabs1 = document.getElementsByClassName("colaborador_id");  
               var colabs2 = colabs1[contador];
               var x = colabs2.querySelectorAll("option");

               var count = 0;
               
               
               for (var i = 0; i < x.length; i++) {
                 if (x[i].selected) count++;
               }
               

               if (numero_colabs1 > count) {
                   confirm('Selecione o numero de colaboradores indicado ou mais!')
                   return returnToPreviousPage();

               } else {
                   if (confirm('Tem a certeza que prentede atribuir a tarefa a atribuição da tarefa?')) 
                        document.getElementById("submit").click();
               }
                

            }
         
    </script>
 
    <script>
        $(document).ready(function() {
  $(window).keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
    </script>

    <script src="/js/chunk-vendors.63f37e79.js"></script>
    <script src="/js/app.841e44b5.js"></script>
</body>

</html>