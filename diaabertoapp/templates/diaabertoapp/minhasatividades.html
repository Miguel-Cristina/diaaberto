<!DOCTYPE HTML> {% load static %}
<html lang="pt-pt">

<head>

    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="{% static 'diaabertoapp/bulma.css' %}">
    <link rel="stylesheet" href="https://cdn.materialdesignicons.com/2.5.94/css/materialdesignicons.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <link href="{% static 'diaabertoapp/favicon.ico' %}" rel="icon">
    <title>Dia Aberto</title>
    <style>
        body,
        html {
            min-height: 100%;
            background-size: cover;
            background: linear-gradient(to bottom, #ffffff, #eeeeff) no-repeat fixed center center;
        }

        * {
            outline: none;
        }
        .footer{
          position: fixed;
          bottom: 0;
          width: 100%;
        }
        .menu-list a.is-active {
            background-color: white;
            color: black;
        }
    </style>
</head>

<body>
    <div id="app">
        <nav data-v-a67fe1ba="" data-v-8716d23a="" role="navigation" aria-label="main navigation" class="navbar">
            <div class="navbar-brand">
                <a data-v-a67fe1ba="" href="/" class="navbar-item logo router-link-active">
                    <img data-v-a67fe1ba="" alt="Dia Aberto" src="{% static 'diaabertoapp/img/logo-navbar.png' %}">
                </a>
                <a role="button" aria-label="menu" class="navbar-burger burger">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
            <div class="navbar-menu">
                <div class="navbar-start">
                    <a data-v-a67fe1ba="" href="/minhasatividades" class="navbar-item is-tab router-link router-link-exact-active router-link-active">
                        Minhas Atividades </a>
                </div>
                <div class="navbar-end">
                    <div data-v-a67fe1ba="" class="navbar-item">
                        <div data-v-a67fe1ba="" class="dropdown is-bottom-left is-mobile-modal">
                            <div role="button" aria-haspopup="true" class="dropdown-trigger">
                                <span data-v-a67fe1ba="" role="button">
                                    <button data-v-a67fe1ba="" type="button" data-badge="0" class="button has-badge-rounded has-badge-warning is-text" style="        margin-right: 0.9rem;">
                                        <!---->
                                        <span>
                                            <span data-v-a67fe1ba="" class="icon">
                                                <i class="mdi mdi-bell mdi-24px"></i>
                                            </span>
                                        </span>
                                        <!---->
                                    </button>
                                </span>
                            </div>
                            <div aria-hidden="true" class="background"></div>
                            <div aria-hidden="true" class="dropdown-menu">
                                <div role="menu" class="dropdown-content">
                                    <div data-v-a67fe1ba="" role="menuitem" tabindex="0" class="dropdown-item">
                                        <strong data-v-a67fe1ba="">Notificações</strong>
                                    </div>
                                    <hr data-v-a67fe1ba="" class="dropdown-divider">
                                    <div data-v-a67fe1ba="">
                                        <div data-v-a67fe1ba="" tabindex="0" class="dropdown-item">
                                            <div data-v-a67fe1ba="" class="has-text-grey"> Não tem novas notificações! </div>
                                        </div>
                                        <hr data-v-a67fe1ba="" class="dropdown-divider">
                                    </div>
                                    <a data-v-a67fe1ba="" tabindex="0" class="dropdown-item">
                                        <u data-v-a67fe1ba="">Ver todas as notificações</u>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div data-v-a67fe1ba="" class="dropdown is-bottom-left is-mobile-modal">
                            <div role="button" aria-haspopup="true" class="dropdown-trigger">
                                <button data-v-a67fe1ba="" type="button" class="button is-text" style="        margin-right: 0.9rem;">
                                    <!---->
                                    <span>
                                        <span data-v-a67fe1ba="" class="icon">
                                            <i class="mdi mdi-account-circle mdi-24px"></i>
                                        </span>
                                    </span>
                                    <!---->
                                </button>
                            </div>
                            <div class="background"  aria-hidden="true"></div>
                            <div class="dropdown-menu"  aria-hidden="true">
                                <div role="list" class="dropdown-content">
                                    <a data-v-a67fe1ba="" role="listitem" tabindex="0" class="dropdown-item is-disabled">Participante Individual</a>
                                    <a data-v-a67fe1ba="" role="listitem" tabindex="0" class="dropdown-item">Professor Secundário</a>
                                    <a data-v-a67fe1ba="" role="listitem" tabindex="0" class="dropdown-item is-disabled">Colaborador</a>
                                    <a data-v-a67fe1ba="" role="listitem" tabindex="0" class="dropdown-item">Professor Universitário</a>
                                    <a data-v-a67fe1ba="" role="listitem" tabindex="0" class="dropdown-item">Coordenador</a>
                                    <a data-v-a67fe1ba="" role="listitem" tabindex="0" class="dropdown-item">Administrador</a>
                                </div>
                            </div>
                        </div>
                        <button data-v-a67fe1ba="" type="button" class="button">
                            <span class="icon is-small">
                                <i class="mdi mdi-logout-variant"></i>
                            </span>
                            <span> Sair </span>
                            <!---->
                        </button>
                    </div>
                </div>
            </div>
        </nav>
        <div data-v-8716d23a="" id="top-hero" class="hero is-primary is-bold">
            <div data-v-8716d23a="" id="top-hero-body" class="hero-body"></div>
        </div>

        <div data-v-8716d23a="" id="page-content">
            <div data-v-8716d23a="" class="card">
                <div data-v-8716d23a="" class="card-content">
                    <div data-v-8716d23a="" class="columns">
                        <div class="column is-3">
                            <div>
                                <div class="menu" style="        margin-bottom: 1rem;">
                                    <p class="menu-label">Filtros Atividade</p>
                                    <ul class="menu-list">
                                        <form method="GET" action=".">
                                        <div class="field has-addons">
                                            <!---->
                                            {% if not nomesquery|length > 0 %}
                                            <div class="control is-expanded">
                                                <div class="control is-clearfix">
                                                    <input type="search" autocomplete="off" id="nameSearch" name="nome"  placeholder="Nome da Atividade" class="input"><!--onkeyup="searchByName()"-->
                                                    <!--<span class="icon is-left">
                                                        <i class="mdi mdi-magnify mdi-24px"></i>
                                                    </span>-->
                                                    <!---->
                                                    <!---->
                                                </div>
                                                
                                            </div>
                                            <div class="control">
                                                <button type="submit" class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                              </div>
                                            {% else %}<div class="control is-expanded">
                                                <div class="control is-clearfix">
                                                    <input type="text" autocomplete="off" id="nameSearch" name="nome"  placeholder="Nome da Atividade" class="input" value="{{ nomesquery }}"><!--onkeyup="searchByName()"-->
                                                    <!--<span class="icon is-left">
                                                        <i class="mdi mdi-magnify mdi-24px"></i>
                                                    </span>-->
                                                    <!---->
                                                    <!---->
                                                </div>
                                                
                                            </div>
                                            <div class="control">
                                                <button class="button is-danger" onclick="document.getElementById('nameSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                              </div>{% endif %}
                                            <!---->
                                        </div>
                                            
                                        <div class="field has-addons">
                                            <!---->
                                            {% if not tiposquery|length > 0 %}
                                            <div class="control is-expanded ">
                                                <span class="select is-fullwidth is-empty">
                                                    <select  id="typeSearch" name="tipo"><!--onchange="searchByType()"-->
                                                        <option disabled="disabled" hidden="hidden" selected>
                                                            Tipo de Atividade
                                                        </option>
                                                        {% for Tipo in tiposatividades %}
                                                            <option value="{{ Tipo.tipo_atividade }}">{{ Tipo.get_tipo_atividade_display }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                                <!--<span class="icon is-left">
                                                    <i class="mdi mdi-magnify mdi-24px"></i>
                                                </span>-->
                                            </div>
                                            <div class="control">
                                                <button class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                            </div>
                                            {% else %}
                                            <div class="control is-expanded ">
                                                <span class="select is-fullwidth is-empty">
                                                    <select  id="typeSearch" name="tipo"><!--onchange="searchByType()"-->
                                                        {% for Tipo in tiposatividades %}
                                                            <option value="{{ Tipo.tipo_atividade }}" selected>{{ Tipo.get_tipo_atividade_display }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                                <!--<span class="icon is-left">
                                                    <i class="mdi mdi-magnify mdi-24px"></i>
                                                </span>-->
                                            </div>
                                            <!---->
                                            <div class="control">
                                                <button class="button is-danger" onclick="document.getElementById('typeSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                              </div>
                                            {% endif %}
                                        </div>
                                        <div class="field has-addons">
                                            <!---->
                                            {% if not estadosquery|length > 0 %}
                                            <div class="control is-expanded">
                                                <span class="select is-fullwidth is-empty">
                                                    <select id="validationSearch" name="validada"><!--onchange="searchByValidation()"-->
                                                        <option disabled="disabled" hidden="hidden" selected>
                                                            Estado
                                                        </option>
                                                        {% for Estado in estados %}
                                                            <option value="{{ Estado.validada }}">{{ Estado.get_validada_display }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                               
                                            </div>
                                            <div class="control">
                                                <button class="button is-primary"> <i class="mdi mdi-magnify mdi-12px"></i></button>
                                            </div>
                                            <!---->
                                            {% else %}
                                            <div class="control is-expanded">
                                                <span class="select is-fullwidth is-empty">
                                                    <select id="validationSearch"><!--onchange="searchByValidation()"-->
                                                        {% for Estado in estados %}
                                                            <option value="{{ Estado.get_validada_display }}" selected>{{ Estado.get_validada_display }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </span>
                                                
                                            </div>
                                            <div class="control">
                                                <button class="button is-danger" onclick="document.getElementById('validationSearch').value = ''"> <i class="mdi mdi-close mdi-12px"></i></button>
                                            </div>
                                            {% endif %}
                                        </div>
                                        <template>
                                            <b-menu>
                                                <b-menu-list>
                                                    <b-menu-item>
                                                        <template slot="label" slot-scope="props">
                                                            <small>Mais Filtros de Atividade</small>
                                                            <b-icon
                                                                class="is-pulled-right"
                                                                :icon="props.expanded ? 'minus' : 'plus'">
                                                            </b-icon>
                                                        </template>
                                                        <template>
                                                            <b-field>
                                                                <b-datepicker
                                                                    placeholder="Submetido depois de..."
                                                                    icon="calendar"
                                                                    :min-date="minDate"
                                                                    :max-date="maxDate"
                                                                    editable>
                                                                </b-datepicker>
                                                            </b-field>
                                                        </template>
                                                        <template>
                                                            <b-field>
                                                                <b-datepicker
                                                                    placeholder="Submetido antes de..."
                                                                    icon="calendar"
                                                                    :min-date="minDate"
                                                                    :max-date="maxDate"
                                                                    editable>
                                                                </b-datepicker>
                                                            </b-field>
                                                        </template>
                                                    </b-menu-item>
                                            </b-menu>
                                        </template>
                                    </form>
                                 </ul>
                                </div>
                                <div class="menu">
                                    <p class="menu-label">Filtros Sessão</p>
                                    <ul class="menu-list">
                                    <div class="columns" style="margin-bottom: 0px;">
                                        <div class="field column" style="margin-bottom: 0px;">
                                            <!---->
                                            <template>
                                                <b-field>
                                                    <b-timepicker
                                                        placeholder="De"
                                                        icon="clock"
                                                        editable>
                                                    </b-timepicker>
                                                </b-field>
                                            </template>
                                            <!---->
                                        </div>
                                        <div class="field column">
                                             <!---->
                                            <template>
                                                <b-field>
                                                    <b-timepicker
                                                        placeholder="Até"
                                                        icon="clock"
                                                        editable>
                                                    </b-timepicker>
                                                </b-field>
                                            </template>
                                            <!---->
                                        </div>
                                    </div>
                                    <li class="is-not-menu">
                                        <a class="">
                                            <!---->
                                            <span class="icon is-pulled-right">
                                                <i class="mdi mdi-plus mdi-24px"></i>
                                            </span>
                                            <small>Mais Filtros de Sessão</small>
                                        </a>
                                        <!---->
                                    </li>
                                </ul>
                                </div>
                            </div>
                        </div>
                        <div class="column">
                            <nav aria-label="breadcrumbs" class="breadcrumb">
                                <ul>
                                    <li>
                                        <a href="/" class="router-link-active">Início</a>
                                    </li>
                                    <li class="is-active">
                                        <a href="/minhasatividades" class="router-link-exact-active router-link-active">Minhas Atividades</a>
                                    </li>
                                </ul>
                            </nav>
                            <a href="/proporatividade" class="button is-success is-outlined" type="button" style="        margin-bottom: 0.5rem;">
                                <span class="icon is-small">
                                    <i class="mdi mdi-plus"></i>
                                </span>
                                <span>Propor nova atividade</span>
                                <!---->
                            </a>
                            <div>
<!------------------------------------------------------------------------------------------------------------------Inicio de Tabela------------------------------------------------------------------------------------------------------------>

                                <div class="b-table ">
                                    <div class="field table-mobile-sort">
                                        <div class="field has-addons">
                                            <div class="control is-expanded">
                                                <span class="select is-fullwidth">
                                                    <select>
                                                        <!---->
                                                        <!---->
                                                        <option value="[object Object]">
                                                            Nome
                                                        </option>
                                                        <option value="[object Object]">
                                                            Submetido a
                                                        </option>
                                                        <option value="[object Object]">
                                                            Estado
                                                        </option>
                                                    </select>
                                                </span>
                                                <!---->
                                            </div>
                                            <div class="control">
                                                <button class="button is-primary">
                                                    <span class="icon is-small">
                                                        <i class="mdi mdi-menu-up"></i>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <!---->
                                    <div class="table-wrapper">
                                        <table id="activitiesTable" class="table has-mobile-cards is-hoverable">
                                            <thead>
                                                <tr>
                                                    <th width="40px"></th>
                                                    <!---->
                                                    <th class="is-sortable" style="width: 300px; " >
                                                        <div class="th-wrap" onclick="sortTable(1)">Nome
                                                            <span class="icon is-small">
                                                                <i class="mdi mdi-menu-up"></i>
                                                            </span>
                                                        </div>
                                                    </th>
                                                    <th class="is-sortable">
                                                        <div class="th-wrap">Submetido a
                                                            <span class="icon is-small">
                                                                <i class="mdi mdi-menu-up"></i>
                                                            </span>
                                                        </div>
                                                    </th>
                                                    <th class="is-sortable">
                                                        <div class="th-wrap">Estado
                                                            <span class="icon is-small">
                                                                <i class="mdi mdi-menu-up"></i>
                                                            </span>
                                                        </div>
                                                    </th>
                                                    <!---->
                                                </tr>
                                                <!---->
                                                <!---->
                                            </thead>

                                            <tbody>
                                                {% for Atividade in atividades %}
                                                <tr draggable="false" class="header">
                                                    <td class="chevron-cell">
                                                        <a class="collapsible">
                                                            <span class="icon">
                                                                <i class="mdi mdi-chevron-right mdi-24px"></i>
                                                            </span>
                                                        </a>
                                                    </td>
                                                    <!---->
                                                    <td data-label="Nome" id="activityName" class=""> {{ Atividade.nome }} </td>
                                                    <td data-label="Submetido a" class=""> {{ Atividade.data }} </td>
                                                    <td data-label="Estado" class="">
                                                        <span class="tag text {% if Atividade.validada  == "RJ" %}
              is-danger {% endif %} {% if Atividade.validada  == "PD" %} is-warning {% endif %} {% if Atividade.validada  == "VD" %} is-success {% endif %}" style="width: 7rem;font-size: small;"> {{ Atividade.get_validada_display }} </span>
                                                    </td>
                                                    <!---->
                                                </tr>
                                                <!---->
                                                <tr class="detail" style="display:none">
                                                    <td colspan="4">
                                                        
                                                        <div class="content">
    <div style="font-size: 15px;">
        <p>
            <strong>Nome: </strong> {{ Atividade.nome }} </p>
        <p>
            <strong>Criador:</strong> por configurar </p>
        <p>
            <strong>Data de submissão:</strong> {{ Atividade.data }} </p>
        <p>
            <strong>Estado de submissão:</strong> {{ Atividade.get_validada_display }} </p>
        <p>
            <strong>Tipo de Atividade:</strong> {{ Atividade.get_tipo_atividade_display }} </p>
        <p>
            <strong>Descrição:</strong> {{ Atividade.descricao }} </p>
        <p>
            <strong>Local:</strong> {{ Atividade.local }} </p>
        <p>
            <strong>Entidade Organizacional:</strong> por configurar </p>
        <p>
            <strong>Departamento:</strong> por configurar </p>
        <p>
            <strong>Sessões:</strong>
        </p>
        <div class="b-table">
            <!---->
            <!---->
            <div class="table-wrapper">
                <table class="table has-mobile-cards">
                    <thead>
                        <tr>
                            <!---->
                            <!---->
                            <th class="">
                                <div class="th-wrap">Dia
                                    <span class="icon is-small" style="display: none;">
                                        <i class="mdi mdi-arrow-up"></i>
                                    </span>
                                </div>
                            </th>
                            <th class="">
                                <div class="th-wrap">Hora
                                    <span class="icon is-small" style="display: none;">
                                        <i class="mdi mdi-arrow-up"></i>
                                    </span>
                                </div>
                            </th>
                            <th class="">
                                <div class="th-wrap">Duração
                                    <span class="icon is-small" style="display: none;">
                                        <i class="mdi mdi-arrow-up"></i>
                                    </span>
                                </div>
                            </th>
                            <th class="">
                                <div class="th-wrap">Máximo de participantes
                                    <span class="icon is-small" style="display: none;">
                                        <i class="mdi mdi-arrow-up"></i>
                                    </span>
                                </div>
                            </th>
                            <th class="">
                                <div class="th-wrap">Espaço
                                    <span class="icon is-small" style="display: none;">
                                        <i class="mdi mdi-arrow-up"></i>
                                    </span>
                                </div>
                            </th>
                            <!---->
                        </tr>
                        <!---->
                        <!---->
                    </thead>
                    <tbody>
                        <tr draggable="false" class="">
                            <!---->
                            <!---->
                            <td data-label="Dia" class=""> 20/02/2020 </td>
                            <td data-label="Hora" class=""> 09:30 </td>
                            <td data-label="Duração" class=""> 60 min </td>
                            <td data-label="Máximo de participantes" class=""> 25 </td>
                            <td data-label="Espaço" class=""> Por alocar </td>
                            <!---->
                        </tr>
                        <!---->
                        <!---->
                    </tbody>
                    <!---->
                </table>
            </div>
            <!---->
        </div>
    </div>
    <div style="margin-top: 13px;">
        <button type="button" class="button is-success" style="margin-right: 10px;">
            <span class="icon is-small">
                <i class="mdi mdi-check"></i>
            </span>
            <span>Aceitar</span>
            <!---->
        </button>
        <button type="button" class="button is-danger">
            <span class="icon is-small">
                <i class="mdi mdi-delete"></i>
            </span>
            <span>Rejeitar</span>
            <!---->
        </button>
    </div>
</div>
                                                    </td>
                                                </tr>
                                                <!---->
                                                {% endfor %}
                                            </tbody>

                                            <!---->
                                        </table>
                                    </div>
                                    {% if atividades.has_other_pages %}
                                    <div class="level">
                                        <div class="level-left"></div>
                                        <div class="level-right">
                                            <div class="level-item">
                                                <nav class="pagination">
                                                    {% if atividades.has_previous %}
                                                    <a role="button" href="?page={{ atividades.previous_page_number }}" class="pagination-link pagination-previous">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-left mdi-24px"></i>
                                                        </span>
                                                    </a>
                                                    {% else %}
                                                    <a role="button" href="#" disabled="disabled" class="pagination-link pagination-previous">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-left mdi-24px"></i>
                                                        </span>
                                                    </a>
                                                    {% endif %}
                                                    {% if atividades.has_next %}
                                                    <a role="button" href="?page={{ atividades.next_page_number }}" class="pagination-link pagination-next">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-right mdi-24px"></i>
                                                        </span>
                                                    </a>
                                                    {% else %}
                                                    <a role="button" href="#" disabled="disabled" class="pagination-link pagination-next">
                                                        <span class="icon" aria-hidden="true">
                                                            <i class="mdi mdi-chevron-right mdi-24px"></i>
                                                        </span>
                                                    </a>
                                                    {% endif %}
                                                    <ul class="pagination-list">
                                                        <!---->
                                                        <!---->
                                                        {% for i in atividades.paginator.page_range %}
                                                        {% if atividades.number == i %}
                                                        <li>
                                                            <a role="button" href="#" aria-current="true" class="pagination-link is-current ">{{ i }}</a>
                                                        </li>
                                                        {% else %}
                                                        <li>
                                                            <a role="button" href="?page={{ i }}" aria-current="true" class="pagination-link ">{{ i }}</a>
                                                        </li>
                                                        {% endif %}
                                                        {% endfor %}
                                                        <!---->
                                                        <!---->
                                                    </ul>
                                                </nav>
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                                </div>
<!------------------------------------------------------------------------------------------------------------------Fim de Tabela------------------------------------------------------------------------------------------------------------>
                                
                            <!---------------------------------------------------------------------------------------Outra Tabela------------------------------------------------------------------------------------------------>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <footer class="footer">
            <div data-v-8716d23a="" style="float: left;"> © 2020 Universidade do Algarve </div>
            <div data-v-8716d23a="" style="float: right;"> Made by Grupo 9 </div>
            <div data-v-8716d23a="" style="margin: auto; width: max-content;"> Dia Aberto da Universidade do Algarve </div>
        </footer>
        
 <script src="https://unpkg.com/vue"></script>
    <!-- Full bundle -->
    <script src="https://unpkg.com/buefy/dist/buefy.min.js"></script>

    <!-- Individual components -->
    <script src="https://unpkg.com/buefy/dist/components/table"></script>
    <script src="https://unpkg.com/buefy/dist/components/input"></script>
    <script>
        $(document).ready(function () {
            $('tr.header').click(function () {
                //$(this).find('span').find('i').toggleClass('fa-thumbs-down');
                if ($(this).find('span').find('i').hasClass('mdi mdi-chevron-right mdi-24px')) {
                    $(this).find('span').find('i').removeClass("mdi mdi-chevron-right mdi-24px").addClass("mdi mdi-chevron-down mdi-24px");
                  }else{
                       $(this).find('span').find('i').removeClass("mdi mdi-chevron-down mdi-24px").addClass("mdi mdi-chevron-right mdi-24px");
                  }
                $(this).nextUntil('tr.header').slideToggle(100, function(){
                    });
            });
        });
    </script>

    <script>
        new Vue({
            el: '#app'
        })
    </script>

</body>

</html>